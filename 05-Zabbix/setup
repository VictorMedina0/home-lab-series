# Zabbix Home Lab Setup (Proxmox + Ubuntu 22.04)

> **Status:** ✅ Zabbix server deployed and web UI reachable. Agent deployment next.

This repo documents how I set up a **Zabbix server** on a VM in **Proxmox**, including the MySQL database steps and service configuration that the official docs gloss over. This ensures a working install from start to finish.

---

## Why Zabbix in a Home Lab?

Zabbix is an open‑source, enterprise‑grade monitoring platform for servers, applications, networks, and cloud services. Installing it in a home lab provides hands-on experience with:

* Linux administration (SSH, root privileges, service management)
* Database configuration (MySQL)
* Monitoring workflows (agents, triggers, dashboards)
* System services (systemctl, persistence across reboots)

These are directly applicable skills for **SOC, infrastructure, and blue team roles**.

---

## Lab Topology

* **Hypervisor:** Proxmox
* **VM:** `zabbix-server`

  * **CPU:** 2 vCPU
  * **RAM:** 2 GB
  * **Disk:** 20 GB
  * **OS:** Ubuntu Server 22.04 LTS
* **Network:** LAN (static/DHCP)
* **Web UI:** `http://<VM-IP>/zabbix`

---

## Full Installation Commands

Follow these in order:

```bash
# Switch to root shell
sudo -s

# Download and install the Zabbix repo package
wget https://repo.zabbix.com/zabbix/7.0/ubuntu/pool/main/z/zabbix-release/zabbix-release_latest_7.0+ubuntu22.04_all.deb
dpkg -i zabbix-release_latest_7.0+ubuntu22.04_all.deb
apt update

# Install Zabbix server, frontend, and agent
apt install zabbix-server-mysql zabbix-frontend-php zabbix-apache-conf zabbix-sql-scripts zabbix-agent

# Install MySQL server
sudo apt-get install mysql-server

# Start MySQL on boot and now
sudo systemctl start mysql
service mysql start

# Enter MySQL
mysql

# Create the database
create database zabbix character set utf8mb4 collate utf8mb4_bin;

# Create user and assign password (replace 'password' with your own)
create user zabbix@localhost identified by 'password';

# Grant privileges
grant all privileges on zabbix.* to zabbix@localhost;

# Set trust temporarily
set global log_bin_trust_function_creators = 1;
quit;

# Import the initial schema (this may take a few minutes, no output until complete)
zcat /usr/share/zabbix-sql-scripts/mysql/server.sql.gz | mysql --default-character-set=utf8mb4 -uzabbix -p zabbix

# Re-enter MySQL and turn off trust
mysql
set global log_bin_trust_function_creators = 0;
quit;

# Edit Zabbix config and add your DB password
nano /etc/zabbix/zabbix_server.conf
# (Set DBPassword=your_password under the Database user section)

# Restart and enable services
systemctl restart zabbix-server zabbix-agent apache2
systemctl enable zabbix-server zabbix-agent apache2
```

---

## Accessing the Web UI

* Open: `http://<VM-IP>/zabbix`
* Initial login:

  * **Username:** `Admin` (capital A)
  * **Password:** `zabbix` (lowercase)
* Change the default password immediately.

---

## Next Steps

* Deploy Zabbix agents on other Linux/Windows VMs
* Configure triggers, templates, and dashboards
* Expand monitoring for simulated production-like environments

---

## References

* [Zabbix Official Documentation](https://www.zabbix.com/documentation/current/en/manual/installation)

---

✅ End-to-end Zabbix deployment complete. Agents and monitoring expansion coming next.
